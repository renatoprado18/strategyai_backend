# ===========================
# Strategy AI Backend - Environment Variables
# Version 2.0 - Supabase + Auth + Apify + Redis
# ===========================

# OpenRouter API Configuration (Required)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Supabase Configuration (Required)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your_supabase_service_role_key_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# JWT Authentication (Required for production)
JWT_SECRET=your-secret-jwt-key-change-in-production-use-strong-random-string

# Upstash Redis Configuration (Required)
UPSTASH_REDIS_URL=https://your-redis.upstash.io
UPSTASH_REDIS_TOKEN=your_upstash_redis_token_here

# Apify Configuration (Required)
APIFY_API_TOKEN=your_apify_api_token_here

# Apify Actors (Optional - defaults provided)
# If you want to use specific actors, set these:
APIFY_WEBSITE_SCRAPER_ACTOR=apify/website-content-crawler
APIFY_WEB_SEARCH_ACTOR=apify/google-search-scraper
APIFY_COMPANY_ENRICHMENT_ACTOR=apify/web-scraper

# ===========================
# COST OPTIMIZATION - Free Source Alternatives
# ===========================

# Use free sources by default (recommended for cost savings)
USE_FREE_SOURCES=true

# Groq AI (FREE alternative to OpenAI GPT)
# Get FREE key at https://console.groq.com
# Free tier: 14,400 requests/day
GROQ_API_KEY=your_groq_api_key_here

# OpenCage Geocoding (FREE alternative to Google Places)
# Free tier: 2,500 requests/day
# Get key at https://opencagedata.com
OPENCAGE_API_KEY=your_opencage_api_key_here

# Geoapify Geocoding (FREE alternative to Google Places)
# Free tier: 3,000 requests/day
# Get key at https://www.geoapify.com
GEOAPIFY_API_KEY=your_geoapify_api_key_here

# Hunter.io (FREE tier: 25 searches/month)
# Get key at https://hunter.io
HUNTER_API_KEY=your_hunter_api_key_here

# Wappalyzer (FREE tier: limited)
# Get key at https://www.wappalyzer.com/api
WAPPALYZER_API_KEY=your_wappalyzer_api_key_here

# ===========================
# PAID SOURCES (Optional - High Cost)
# Only enable if you have budget for them
# ===========================

# Clearbit Company API ($0.10 per lookup)
# Get key at https://clearbit.com
CLEARBIT_API_KEY=your_clearbit_api_key_here

# Google Places API ($0.017 per request)
# Get key at https://console.cloud.google.com
GOOGLE_PLACES_API_KEY=your_google_places_api_key_here

# Proxycurl LinkedIn API ($0.01 per profile)
# Get key at https://nubela.co/proxycurl
PROXYCURL_API_KEY=your_proxycurl_api_key_here

# ===========================
# COST CONTROL & RATE LIMITING
# ===========================

# Enable cost tracking and limits
ENABLE_COST_TRACKING=true

# Maximum enrichments per user per hour
MAX_ENRICHMENTS_PER_HOUR=100

# Maximum cost per user per day (USD)
MAX_COST_PER_DAY=10.00

# Maximum global cost per month (USD)
MAX_COST_PER_MONTH=1000.00

# Alert threshold (0.0-1.0, default 0.8 = 80%)
COST_ALERT_THRESHOLD=0.8

# ===========================
# CACHING CONFIGURATION
# ===========================

# Enable multi-tier caching for cost savings
ENABLE_MULTI_TIER_CACHE=true

# Cache TTL in days
CACHE_TTL_DAYS=30

# Hot cache TTL in seconds (Redis)
HOT_CACHE_TTL_SECONDS=3600

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://your-vercel-app.vercel.app

# Rate Limiting
MAX_SUBMISSIONS_PER_IP_PER_DAY=3

# ===========================
# Setup Instructions:
# ===========================
#
# 1. SUPABASE SETUP:
#    - Create account at https://supabase.com
#    - Create new project
#    - Go to Settings > API
#    - Copy Project URL to SUPABASE_URL
#    - Copy anon/public key to SUPABASE_ANON_KEY
#    - Copy service_role key to SUPABASE_SERVICE_KEY
#    - Run SQL schema from database.py docstring in SQL Editor
#    - Create admin user in Authentication > Users
#
# 2. UPSTASH REDIS SETUP:
#    - Create account at https://upstash.com
#    - Create new Redis database
#    - Copy REST URL to UPSTASH_REDIS_URL
#    - Copy REST Token to UPSTASH_REDIS_TOKEN
#
# 3. APIFY SETUP:
#    - Create account at https://apify.com
#    - Go to Settings > Integrations
#    - Generate API token
#    - Copy to APIFY_API_TOKEN
#
# 4. JWT SECRET:
#    - Generate a strong random string (32+ characters)
#    - Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 5. OPENROUTER:
#    - Already configured from Phase 1
#    - Get key from https://openrouter.ai
#
